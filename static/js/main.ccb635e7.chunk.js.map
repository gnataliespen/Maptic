{"version":3,"sources":["state/types.js","state/Context.js","util/setAuthToken.js","components/Auth/Logout.js","components/Auth/Login.js","components/Layout/Nav.js","state/reducer.js","components/hoc/WithSocket.js","util/getImgUrl.js","components/Pin/CreatePin.js","components/Comment/CreateComment.js","components/Comment/Comments.js","components/Pin/PinContent.js","components/hoc/WithModal.js","components/Layout/Blog.js","App.js","index.js","util/apiConnection.js"],"names":["CLEAR_USER","LOGIN_USER","LOGIN_FAIL","LOGOUT","CREATE_DRAFT","UPDATE_DRAFT","CLEAR_DRAFT","NEW_PIN","GET_PINS","SET_PIN","CLEAR_PIN","DELETE_PIN","UPDATE_PIN","createContext","currentUser","isAuth","draft","pins","currentPin","alerts","modal","setAuthToken","token","Cookies","get","api","defaults","headers","common","Logout","dispatch","useContext","Context","alert","useAlert","onLogoutSuccess","remove","type","show","onFailure","buttonText","Login","onSuccess","googleUser","a","idToken","getAuthResponse","id_token","set","expires","user","payload","data","clientId","process","isSignedIn","Nav","state","mobile","useMedia","maxWidth","display","verySmall","Menu","id","inverted","Item","header","Icon","name","size","color","style","className","Image","avatar","circular","src","picture","position","socket","action","latitude","longitude","newPins","filter","pin","_id","map","WithSocket","Component","useEffect","io","on","createPin","newPin","emit","deletePin","pinId","createComment","newComment","deleteComment","oldComment","getImgUrl","file","FormData","append","axios","post","res","url","response","console","log","error","message","intialForm","title","description","image","preview","CreatePin","handleCreate","openModal","useState","form","setForm","loading","setLoading","handleChange","event","target","value","files","window","URL","createObjectURL","handleSubmit","preventDefault","pinObj","trim","Form","Input","placeholder","onChange","accept","htmlFor","rounded","centered","onClick","width","TextArea","Button","disabled","initialComment","text","CreateComment","comment","setComment","e","newPinObj","onSubmit","Field","control","required","aria-label","Comments","comments","handleDelete","useCallback","renderComments","useMemo","i","Comment","key","Divider","author","CommentAvatar","alt","Content","Author","as","Metadata","format","Date","createdAt","Text","Group","PinContent","Segment","ShowModal","rest","modalOpen","setModalOpen","mBool","Modal","open","basic","closeIcon","onClose","wrapped","Blog","visibility","Sidebar","visible","animation","direction","WithModal","Map","lazy","options","timeout","App","initialState","useReducer","reducer","Provider","template","AlertTemplate","fallback","Loader","active","require","config","ReactDOM","render","document","getElementById","create","baseURL"],"mappings":"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","file":"static/js/main.ccb635e7.chunk.js","sourcesContent":["export const CLEAR_USER = \"CLEAR_USER\";\nexport const LOGIN_USER = \"LOGIN_USER\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT = \"LOGOUT\";\nexport const CREATE_DRAFT = \"CREATE_DRAFT\";\nexport const UPDATE_DRAFT = \"UPDATE_DRAFT\";\nexport const CLEAR_DRAFT = \"CLEAR_DRAFT\";\nexport const NEW_PIN = \"NEW_PIN\";\nexport const GET_PINS = \"GET_PINS\";\nexport const SET_PIN = \"SET_PIN\";\nexport const CLEAR_PIN = \"CLEAR_PIN\";\nexport const DELETE_PIN = \"DELETE_PIN\";\nexport const UPDATE_PIN = \"UPDATE_PIN\";\nexport const SET_IMAGE = \"SET_IMAGE\";\n","import { createContext } from \"react\";\n\nexport default createContext({\n  currentUser: null,\n  isAuth: false,\n  draft: null,\n  pins: [],\n  currentPin: null,\n  alerts: [],\n  modal: \"\"\n});\n","import api from \"./apiConnection\";\nimport Cookies from \"js-cookie\";\n\nconst setAuthToken = () => {\n  let token = Cookies.get(\"token\");\n  api.defaults.headers.common[\"Content-Type\"] = \"application/json\";\n  if (token) {\n    api.defaults.headers.common[\"x-auth-token\"] = token;\n  } else {\n    delete api.defaults.headers.common[\"x-auth-token\"];\n  }\n};\n\nexport default setAuthToken;\n","import React, { useContext } from \"react\";\nimport { GoogleLogout } from \"react-google-login\";\nimport { useAlert } from \"react-alert\";\nimport Cookies from \"js-cookie\";\n\nimport setAuthToken from \"../../util/setAuthToken\";\nimport Context from \"../../state/Context\";\nimport { LOGOUT } from \"../../state/types\";\n\nconst Logout = () => {\n  const { dispatch } = useContext(Context);\n  const alert = useAlert();\n\n  const onSignout = () => {\n    Cookies.remove(\"token\");\n    //This will remove token from req headers\n    setAuthToken();\n    dispatch({ type: LOGOUT });\n    alert.show(\"Logged out\", { type: \"success\" });\n  };\n  const onFailure = () => {\n    alert.show(\"Could not log out\", { type: \"error\" });\n  };\n  return (\n    <GoogleLogout\n      onLogoutSuccess={onSignout}\n      onFailure={onFailure}\n      buttonText=\"Signout\"\n    />\n  );\n};\nexport default Logout;\n","import React, { useContext } from \"react\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { useAlert } from \"react-alert\";\nimport Cookies from \"js-cookie\";\n\nimport api from \"../../util/apiConnection\";\nimport setAuthToken from \"../../util/setAuthToken\";\nimport Context from \"../../state/Context\";\nimport { LOGIN_USER, LOGIN_FAIL } from \"../../state/types\";\n\nconst Login = () => {\n  const { dispatch } = useContext(Context);\n  const alert = useAlert();\n\n  const onSuccess = async googleUser => {\n    const idToken = googleUser.getAuthResponse().id_token;\n    Cookies.set(\"token\", idToken, { expires: 1 / 24 });\n    //Add token to req header\n    setAuthToken();\n    try {\n      let user = await api.get(\"/auth/google\");\n      dispatch({ type: LOGIN_USER, payload: user.data });\n      alert.show(\"Logged in\", { type: \"success\" });\n    } catch (err) {\n      //Delete token and remove it from req header\n      Cookies.remove(\"token\");\n      setAuthToken();\n\n      dispatch({ type: LOGIN_FAIL });\n      return alert.show(\"Could not log in\", { type: \"error\" });\n    }\n  };\n\n  const onFailure = () => {\n    alert.show(\"Google auth failed\", { type: \"error\" });\n    dispatch({ type: LOGIN_FAIL });\n  };\n\n  return (\n    <GoogleLogin\n      clientId={process.env.REACT_APP_OAUTH_CLIENT_ID}\n      onSuccess={onSuccess}\n      onFailure={onFailure}\n      //If true will return GoogleUser object on load\n      isSignedIn={true}\n    />\n  );\n};\nexport default Login;\n","import React, { Fragment, useContext } from \"react\";\nimport { Menu, Icon, Image } from \"semantic-ui-react\";\nimport useMedia from \"use-media\";\n\nimport Context from \"../../state/Context\";\nimport Logout from \"../Auth/Logout\";\nimport Login from \"../Auth/Login\";\n\nconst Nav = () => {\n  const {\n    state: { isAuth, currentUser }\n  } = useContext(Context);\n\n  //Check user screen size\n  const mobile = useMedia({ maxWidth: 775 }) ? { display: \"none\" } : null;\n  const verySmall = useMedia({ maxWidth: 355 }) ? { display: \"none\" } : null;\n\n  return (\n    <Menu id=\"menu\" inverted>\n      <Menu.Item header id=\"primary\">\n        <Icon name=\"map\" size=\"large\" color=\"yellow\" />\n        <h1 style={verySmall}>Maptic</h1>\n      </Menu.Item>\n      {/*If authenticated show basic profile info*/}\n      {isAuth ? (\n        <Fragment>\n          <Menu.Item header className=\"user\">\n            <Image\n              avatar\n              circular\n              src={currentUser.picture}\n              style={verySmall}\n            />{\" \"}\n            <h2 style={mobile}>{currentUser.name}</h2>\n          </Menu.Item>\n          <Menu.Item position=\"right\">\n            <Logout />\n          </Menu.Item>\n        </Fragment>\n      ) : (\n        <Menu.Item header>\n          <Login />\n          <p className=\"login-body\" style={mobile}>\n            {\" \"}\n            or leave an anonymous pin\n          </p>\n        </Menu.Item>\n      )}\n      <Menu.Item\n        header\n        className=\"instructions\"\n        position={isAuth ? null : \"right\"}\n        style={mobile}\n      >\n        <Icon name=\"location arrow\" color=\"yellow\" />\n        <p className=\"login-body\"> Click on the map to get started</p>\n      </Menu.Item>\n    </Menu>\n  );\n};\nexport default Nav;\n","import {\n  LOGIN_USER,\n  CLEAR_USER,\n  LOGIN_FAIL,\n  LOGOUT,\n  CREATE_DRAFT,\n  UPDATE_DRAFT,\n  CLEAR_DRAFT,\n  NEW_PIN,\n  GET_PINS,\n  SET_PIN,\n  CLEAR_PIN,\n  DELETE_PIN,\n  UPDATE_PIN\n} from \"./types\";\n\nexport default (state, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    //Auth reducers\n    case LOGIN_USER:\n      return {\n        ...state,\n        currentUser: payload,\n        isAuth: true\n      };\n    case CLEAR_USER:\n    case LOGIN_FAIL:\n    case LOGOUT:\n      return {\n        ...state,\n        currentUser: null,\n        isAuth: false\n      };\n    //Pin reducers\n    case CREATE_DRAFT:\n      return {\n        ...state,\n        currentPin: null,\n        draft: {\n          latitude: 0,\n          longitude: 0\n        }\n      };\n    case UPDATE_DRAFT:\n      return {\n        ...state,\n        draft: payload\n      };\n    case CLEAR_DRAFT:\n      return {\n        ...state,\n        draft: null\n      };\n    case NEW_PIN: {\n      return {\n        ...state,\n        draft: null,\n        pins: [...state.pins, payload]\n      };\n    }\n    case GET_PINS: {\n      return {\n        ...state,\n        pins: [...payload]\n      };\n    }\n    case SET_PIN: {\n      return {\n        ...state,\n        currentPin: payload,\n        draft: null\n      };\n    }\n    case CLEAR_PIN: {\n      return {\n        ...state,\n        currentPin: null\n      };\n    }\n    case DELETE_PIN: {\n      //Remove deleted pin from pin arr\n      let newPins = state.pins.filter(pin => pin._id !== payload);\n      return {\n        ...state,\n        currentPin: null,\n        pins: newPins\n      };\n    }\n    case UPDATE_PIN: {\n      //Replace old pin with updated pin\n      let newPins = state.pins.map(pin =>\n        pin._id === payload._id ? payload : pin\n      );\n      //Update current pin if necessary\n      let curPin =\n        state.currentPin._id === payload._id ? payload : state.currentPin;\n      return {\n        ...state,\n        pins: newPins,\n        currentPin: curPin\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import React, { useEffect, useContext } from \"react\";\nimport io from \"socket.io-client\";\nimport Cookies from \"js-cookie\";\n\nimport Context from \"../../state/Context\";\nimport { NEW_PIN, DELETE_PIN, UPDATE_PIN } from \"../../state/types\";\nlet socket;\n\nconst WithSocket = ({ Component }) => {\n  const { dispatch } = useContext(Context);\n  useEffect(() => {\n    socket = io(\":4000\");\n    //On pin change the backend will emit one of these events with the new pin data which is used to update state\n    socket.on(\"new pin\", data => {\n      dispatch({ type: NEW_PIN, payload: data });\n    });\n    socket.on(\"deleted pin\", data => {\n      dispatch({\n        type: DELETE_PIN,\n        payload: data\n      });\n    });\n    socket.on(\"updated pin\", data => {\n      dispatch({\n        type: UPDATE_PIN,\n        payload: data\n      });\n    });\n  }, [dispatch]);\n\n  const createPin = newPin => {\n    //Add token so backend can verify author\n    newPin.token = Cookies.get(\"token\");\n    socket.emit(\"create pin\", newPin);\n  };\n  const deletePin = pinId => {\n    //Add token so backend can verify author\n    let token = Cookies.get(\"token\");\n    socket.emit(\"delete pin\", { token, id: pinId });\n  };\n  const createComment = newComment => {\n    //Add token so backend can verify author\n    newComment.token = Cookies.get(\"token\");\n    socket.emit(\"create comment\", newComment);\n  };\n  const deleteComment = oldComment => {\n    //Add token so backend can verify author\n    oldComment.token = Cookies.get(\"token\");\n    socket.emit(\"delete comment\", oldComment);\n  };\n  return (\n    <Component\n      createPin={createPin}\n      deletePin={deletePin}\n      createComment={createComment}\n      deleteComment={deleteComment}\n    />\n  );\n};\n\nexport default WithSocket;\n","import axios from \"axios\";\n\nconst getImgUrl = async file => {\n  const data = new FormData();\n  data.append(\"file\", file);\n  data.append(\"upload_preset\", \"ecomProject\");\n  data.append(\"cloud_name\", \"gnatscloud\");\n  try {\n    const res = await axios.post(process.env.REACT_APP_CLOUDINARY_URL, data);\n    return res.data.url;\n  } catch (err) {\n    if (err.response) {\n      console.log(err.response.data.error.message);\n    } else {\n      console.log(err);\n    }\n  }\n};\n\nexport default getImgUrl;\n","import React, { useState, useContext } from \"react\";\nimport { Form, Icon, Button, Image } from \"semantic-ui-react\";\nimport { useAlert } from \"react-alert\";\n\nimport Context from \"../../state/Context\";\nimport { CLEAR_DRAFT } from \"../../state/types\";\nimport getImgUrl from \"../../util/getImgUrl\";\n\nconst intialForm = {\n  title: \"\",\n  description: \"\",\n  image: null,\n  preview: \"\"\n};\n\nconst CreatePin = ({ handleCreate, openModal }) => {\n  const [form, setForm] = useState(intialForm);\n  const [loading, setLoading] = useState(false);\n\n  const { dispatch, state } = useContext(Context);\n\n  const alert = useAlert();\n\n  const handleChange = event => {\n    const { name, value, files } = event.target;\n    if (name === \"media\") {\n      setForm({\n        ...form,\n        preview: window.URL.createObjectURL(files[0]),\n        image: files[0]\n      });\n    } else {\n      setForm({ ...form, [name]: value });\n    }\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    //Create pin object\n    const pinObj = {\n      title: form.title.trim(),\n      description: form.description.trim(),\n      longitude: state.draft.longitude,\n      latitude: state.draft.latitude\n    };\n    try {\n      //If image upload to cloudinary and add url\n      if (form.image) {\n        const url = await getImgUrl(form.image);\n        pinObj.image = url;\n      }\n\n      //From hoc WithSocket, sends new pin obj to backend where its saved in db\n      handleCreate(pinObj);\n\n      setForm(intialForm);\n\n      alert.show(\"Created pin\", { type: \"success\" });\n    } catch (err) {\n      alert.show(\"Failed to create pin\", { type: \"error\" });\n    }\n    setLoading(false);\n  };\n\n  const clearDraft = () => {\n    dispatch({ type: CLEAR_DRAFT });\n    setForm(intialForm);\n  };\n\n  return (\n    <div className=\"form\">\n      <h2 style={{ color: \"green\" }}>\n        <Icon name=\"location arrow\" /> Pin location\n      </h2>\n      <Form loading={loading}>\n        <div style={{ display: \"flex\" }}>\n          <Form.Input\n            name=\"title\"\n            placeholder=\"Whats it called?\"\n            onChange={handleChange}\n            value={form.title}\n          />\n          <input\n            name=\"media\"\n            accept=\"image/*\"\n            id=\"file-upload\"\n            type=\"file\"\n            onChange={handleChange}\n          />\n          <label htmlFor=\"file-upload\">\n            <div className=\"save-btn\">\n              <Icon name=\"image\" size=\"large\" />\n            </div>\n          </label>\n        </div>\n        <Image\n          src={form.preview}\n          rounded\n          centered\n          size=\"small\"\n          onClick={openModal}\n        />\n        <div style={{ width: \"100%\" }}>\n          <Form.TextArea\n            name=\"description\"\n            placeholder=\"Tell us about it...\"\n            onChange={handleChange}\n            value={form.description}\n          />\n        </div>\n        <div className=\"btns\">\n          <Button color=\"purple\" onClick={clearDraft}>\n            <Icon name=\"trash\" size=\"small\" /> Discard\n          </Button>\n          <Button\n            type=\"submit\"\n            color=\"green\"\n            onClick={handleSubmit}\n            disabled={!form.title.trim()}\n          >\n            <Icon name=\"save\" size=\"small\" /> Submit\n          </Button>\n        </div>\n      </Form>\n    </div>\n  );\n};\nexport default CreatePin;\n","import React, { Fragment, useState, useContext } from \"react\";\nimport { Form, TextArea, Icon, Button, Image } from \"semantic-ui-react\";\nimport { useAlert } from \"react-alert\";\n\nimport Context from \"../../state/Context\";\nimport getImgUrl from \"../../util/getImgUrl\";\n\nconst initialComment = { image: null, text: \"\", preview: \"\" };\n\nconst CreateComment = ({ handleCreate, openModal }) => {\n  const [comment, setComment] = useState(initialComment);\n  const [loading, setLoading] = useState(false);\n\n  const {\n    state: { currentPin }\n  } = useContext(Context);\n\n  const alert = useAlert();\n\n  const handleChange = async e => {\n    const { name, value, files } = e.target;\n    if (name === \"media\") {\n      setComment({\n        ...comment,\n        image: files[0],\n        preview: window.URL.createObjectURL(files[0])\n      });\n    } else {\n      setComment({ ...comment, text: value });\n    }\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    //Create pin obj\n    const newPinObj = {\n      text: comment.text,\n      pinId: currentPin._id\n    };\n    try {\n      //If the comment has an image upload to cloudinary and add url\n      if (comment.image) {\n        let url = await getImgUrl(comment.image);\n        newPinObj.image = url;\n      }\n      //Passed down from WithSocket hoc, sends comment and pin info to backend where the pin is updated\n      handleCreate(newPinObj);\n      setComment(initialComment);\n      alert.show(\"Posted comment\", { type: \"success\" });\n    } catch (err) {\n      alert.show(\"Failed to post comment\", { type: \"error\" });\n    }\n    setLoading(false);\n  };\n\n  return (\n    <Fragment>\n      <Image\n        src={comment.preview}\n        rounded\n        centered\n        size=\"tiny\"\n        className=\"comment-img\"\n        onClick={openModal}\n      />\n\n      <Form\n        loading={loading}\n        onSubmit={e => handleSubmit(e)}\n        className=\"comment-form\"\n      >\n        <Form.Field\n          name=\"comment\"\n          control={TextArea}\n          placeholder=\"Add a comment...\"\n          onChange={handleChange}\n          value={comment.text}\n          required\n        />\n        <div className=\"comment-controls\">\n          <Button\n            type=\"submit\"\n            className=\"close\"\n            aria-label=\"submit comment\"\n            disabled={!comment.text || !comment.text.trim()}\n          >\n            <Icon name=\"send\" color=\"green\" />\n          </Button>\n          <input\n            name=\"media\"\n            accept=\"image/*\"\n            id=\"file-upload\"\n            type=\"file\"\n            onChange={handleChange}\n          />\n          <label htmlFor=\"file-upload\">\n            <div className=\"save-btn\">\n              <Icon name=\"file image outline\" size=\"large\" />\n            </div>\n          </label>\n        </div>\n      </Form>\n    </Fragment>\n  );\n};\nexport default CreateComment;\n","import React, { Fragment, useContext, useMemo, useCallback } from \"react\";\nimport {\n  CommentAvatar,\n  Comment,\n  Divider,\n  Image,\n  Icon\n} from \"semantic-ui-react\";\nimport { format } from \"date-fns\";\n\nimport Context from \"../../state/Context\";\n\nconst Comments = ({ comments, openModal, deleteComment }) => {\n  const {\n    state: { currentUser, currentPin }\n  } = useContext(Context);\n\n  const handleDelete = useCallback(\n    comment => {\n      deleteComment({ comment, pinId: currentPin._id });\n    },\n    [currentPin._id, deleteComment]\n  );\n\n  const renderComments = useMemo(() => {\n    return comments.map((comment, i) => (\n      <Comment key={i}>\n        <Divider />\n        {comment.author && (\n          <CommentAvatar\n            src={comment.author.picture}\n            alt={comment.author.name}\n          />\n        )}\n        <Comment.Content>\n          <Comment.Author as=\"h4\" className=\"comment-author\">\n            {comment.author ? comment.author.name : \"Anonymous\"}\n            {comment.author &&\n              currentUser &&\n              comment.author._id === currentUser._id && (\n                <Icon\n                  name=\"trash\"\n                  color=\"red\"\n                  onClick={() => handleDelete(comment)}\n                />\n              )}\n          </Comment.Author>\n\n          <Comment.Metadata>\n            <div>{format(new Date(comment.createdAt), \"MMM, do, yyyy\")}</div>\n          </Comment.Metadata>\n          <Comment.Text>{comment.text}</Comment.Text>\n          {comment.image && (\n            <Image\n              size=\"tiny\"\n              src={comment.image}\n              rounded\n              onClick={openModal}\n            />\n          )}\n        </Comment.Content>\n      </Comment>\n    ));\n  }, [comments, currentUser, handleDelete, openModal]);\n\n  return (\n    <Fragment>\n      <Comment.Group>{renderComments}</Comment.Group>\n    </Fragment>\n  );\n};\n\nexport default Comments;\n","import React from \"react\";\nimport { Image, Icon, Segment } from \"semantic-ui-react\";\nimport { format } from \"date-fns\";\n\nimport CreateComment from \"../Comment/CreateComment\";\nimport Comments from \"../Comment/Comments\";\n\nconst PinContent = ({ pin, createComment, openModal, deleteComment }) => {\n  const { title, description, author, createdAt, comments, image } = pin;\n\n  return (\n    <div className=\"pin-content\">\n      {image && (\n        <Image src={image} rounded centered size=\"small\" onClick={openModal} />\n      )}\n      <h2 className=\"pin-heading\">{title}</h2>\n      <h3 className=\"pin-heading\">\n        <Icon name=\"user\" />\n        {author ? author.name : \"Anonymous\"}\n      </h3>\n      <h4 className=\"pin-heading\">\n        <Icon name=\"clock\" /> {format(new Date(createdAt), \"MMM, do, yyyy\")}\n      </h4>\n      {description && <p>{description}</p>}\n      <Segment>\n        <CreateComment handleCreate={createComment} openModal={openModal} />\n        <Comments\n          comments={comments}\n          openModal={openModal}\n          deleteComment={deleteComment}\n        />\n      </Segment>\n    </div>\n  );\n};\nexport default PinContent;\n","import React, { Fragment, useState } from \"react\";\nimport { Image, Modal } from \"semantic-ui-react\";\n\nconst ShowModal = ({ Component, ...rest }) => {\n  const [modalOpen, setModalOpen] = useState(\"\");\n  const mBool = modalOpen ? true : false;\n\n  const closeModal = () => {\n    setModalOpen(\"\");\n  };\n  const openModal = event => {\n    setModalOpen(event.target.src);\n  };\n\n  return (\n    <Fragment>\n      <Modal open={mBool} basic closeIcon onClose={closeModal}>\n        <Image wrapped size=\"large\" src={modalOpen} />\n      </Modal>\n      <Component {...rest} openModal={openModal} />\n    </Fragment>\n  );\n};\n\nexport default ShowModal;\n","import React, { useContext } from \"react\";\nimport useMedia from \"use-media\";\nimport { useAlert } from \"react-alert\";\n\nimport Context from \"../../state/Context\";\nimport CreatePin from \"../Pin/CreatePin\";\nimport { Sidebar, Icon, Button } from \"semantic-ui-react\";\nimport PinContent from \"../Pin/PinContent\";\nimport { CLEAR_PIN, CLEAR_DRAFT } from \"../../state/types\";\nimport WithModal from \"../hoc/WithModal\";\n\nconst Blog = ({ createPin, deletePin, createComment, deleteComment }) => {\n  const { state, dispatch } = useContext(Context);\n  const { draft, currentPin, currentUser } = state;\n  const alert = useAlert();\n\n  //Change side bar to be on top for mobile users\n  const mobile = useMedia({ maxWidth: 650 }) ? \"top\" : \"right\";\n\n  //Blog content should only show if a pin is selected\n  let visibility = !draft && !currentPin ? false : true;\n\n  const clearPinState = () => {\n    //Check which state to clear\n    !draft && currentPin\n      ? dispatch({ type: CLEAR_PIN })\n      : dispatch({ type: CLEAR_DRAFT });\n  };\n\n  const handleDelete = async () => {\n    //Passed down from WithSocket hoc, sends pin id to backend where the pin is deleted\n    deletePin(currentPin._id);\n    alert.show(\"Deleted pin\", { type: \"success\" });\n  };\n\n  return (\n    <Sidebar\n      visible={visibility}\n      id=\"blog\"\n      animation=\"overlay\"\n      direction={mobile}\n      width=\"wide\"\n    >\n      <div className=\"blog-btns\">\n        <Button\n          className=\"close\"\n          aria-label=\"Close pin view\"\n          onClick={clearPinState}\n        >\n          <Icon name=\"remove circle\" />\n        </Button>\n        {currentUser &&\n          currentPin &&\n          currentPin.author &&\n          currentUser._id === currentPin.author._id && (\n            <Button color=\"red\" className=\"delete\" onClick={handleDelete}>\n              Delete Pin\n            </Button>\n          )}\n      </div>\n\n      {!draft && currentPin ? (\n        <WithModal\n          pin={currentPin}\n          createComment={createComment}\n          deleteComment={deleteComment}\n          Component={PinContent}\n        />\n      ) : (\n        <WithModal handleCreate={createPin} Component={CreatePin} />\n      )}\n    </Sidebar>\n  );\n};\nexport default Blog;\n","import React, { useContext, useReducer, lazy, Suspense } from \"react\";\nimport { Provider as AlertProvider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\nimport { Loader } from \"semantic-ui-react\";\n\nimport Nav from \"./components/Layout/Nav\";\nimport Context from \"./state/Context\";\nimport reducer from \"./state/reducer\";\nimport WithSocket from \"./components/hoc/WithSocket\";\nimport Blog from \"./components/Layout/Blog\";\n\nimport \"./css/Style.css\";\n\nconst Map = lazy(() => import(\"./components/Layout/Map\"));\n\nconst options = {\n  timeout: 5000\n};\n\nfunction App() {\n  const initialState = useContext(Context);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <Context.Provider value={{ state, dispatch }}>\n      <AlertProvider template={AlertTemplate} {...options}>\n        <Nav />\n        <Suspense fallback={<Loader active />}>\n          <Map />\n        </Suspense>\n        <WithSocket Component={Blog} />\n      </AlertProvider>\n    </Context.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nrequire(\"dotenv\").config();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","import axios from \"axios\";\n//Set base url to server\nlet url =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://maptik.herokuapp.com/\"\n    : \"http://localhost:4000/\";\n\nexport default axios.create({\n  baseURL: url\n});\n"],"sourceRoot":""}